<!doctype html><html lang=en-us><head><meta charset=utf-8><title>How to build Istio? · BIS</title><meta name=viewport content="width=device-width,initial-scale=1,maximum-scale=1"><meta name=description content="This article will guide you on how to compile the Istio binaries on macOS."><meta name=author content="BIS"><meta name=generator content="Hugo 0.101.0"><link rel=stylesheet href=/sdmxio/plugins/bootstrap/bootstrap.min.css><link rel=stylesheet href=/sdmxio/plugins/slick/slick.css><link rel=stylesheet href=/sdmxio/plugins/animate/animate.css><link rel=stylesheet href=/sdmxio/plugins/venobox/venobox.css><link rel=stylesheet href=/sdmxio/plugins/themify-icons/themify-icons.css><link rel=stylesheet href=/sdmxio/plugins/hightlight/syntax.css><link rel=stylesheet href=/sdmxio/plugins/tocbot/tocbot.css><link rel=stylesheet href=/sdmxio/plugins/bigger-picture/bigger-picture.css><link rel=stylesheet href=/sdmxio/plugins/fontawesome-pro-5.0.13/svg-with-js/css/fa-svg-with-js.css><link rel=stylesheet href=/sdmxio/scss/style.css media=screen><link rel=icon href=/sdmxio/favicon.png type=image/png><link rel=apple-touch-icon href=/sdmxio/apple-touch-icon.png><link rel=apple-touch-icon sizes=57x57 href=images/favicon-57.png><link rel=apple-touch-icon sizes=72x72 href=images/favicon-72.png><link rel=apple-touch-icon sizes=114x114 href=images/favicon-114.png><link rel=apple-touch-icon sizes=144x144 href=images/favicon-144.png><link href=/opensearchdescription.xml rel=search title='Content search' type=application/opensearchdescription+xml><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/docsearch.js/2.6.3/docsearch.min.css><meta name=twitter:card content="summary_large_image"><meta name=twitter:site content="sdmx.io"><meta name=twitter:creator content="@sdmx.io"><meta property="og:url" content="https://glennmdt.github.io/sdmxio/blog/how-to-build-istio/"><meta property="og:title" content="How to build Istio?"><meta property="twitter:title" content="How to build Istio?"><meta property="og:description" content="This article will guide you on how to compile the Istio binaries on macOS."><meta property="twitter:description" content="This article will guide you on how to compile the Istio binaries on macOS."><meta property="og:image" content="https://glennmdt.github.io/sdmxio/images/banner/build-istio.jpg"><meta property="twitter:image" content="https://glennmdt.github.io/sdmxio/images/banner/build-istio.jpg"></head><body><button onclick=topFunction() id=backTopBtn title="Go to top"><i class="fa fa-arrow-circle-up" aria-hidden=true></i></button><header class="fixed-top header"><div class="navigation w-100"><div class=container><nav class="navbar navbar-expand-lg navbar-light p-0"><a class=navbar-brand href=/sdmxio><img class=img-fluid width=200px src=/sdmxio/images/logo.png alt="Open source software for official statistics"></a>
<button class="navbar-toggler rounded-0" type=button data-toggle=collapse data-target=#navigation aria-controls=navigation aria-expanded=false aria-label="Toggle navigation">
<span class=navbar-toggler-icon></span></button><div class="collapse navbar-collapse text-center" id=navigation><ul class="navbar-nav ml-auto"><li class="nav-item dropdown"><a class="nav-link dropdown-toggle" href=# role=button data-toggle=dropdown aria-haspopup=true aria-expanded=false>About</a><div class=dropdown-menu><a class=dropdown-item href=/sdmxio/about>ABOUT SDMX.IO</a>
<a class=dropdown-item href=/sdmxio/community>COMMUNITY</a>
<a class=dropdown-item href=/sdmxio/governance>GOVERNANCE</a></div></li><li class="nav-item dropdown"><a class="nav-link dropdown-toggle" href=# role=button data-toggle=dropdown aria-haspopup=true aria-expanded=false>Ecosystem</a><div class=dropdown-menu><a class=dropdown-item href=/sdmxio/ecosystem>ECOSYSTEM</a>
<a class=dropdown-item href=/sdmxio/fmr>FUSION METADATA REGISTRY</a></div></li><li class=nav-item><a class=nav-link href=/sdmxio/blog>Articles</a></li><li class=nav-item><a class=nav-link href=/sdmxio/event>Events</a></li><li class=nav-item><a class=nav-link href=/sdmxio/learn>Learn</a></li><li class=nav-item><a class=nav-link href=/sdmxio/notice>Notices</a></li><li class="nav-item dropdown"><a class="nav-link dropdown-toggle" href=# role=button data-toggle=dropdown aria-haspopup=true aria-expanded=false>Help</a><div class=dropdown-menu><a class=dropdown-item href=https://github.com/glennmdt/sdmxio/issues>ISSUES ON GITHUB</a></div></li><li class=nav-item><a class=nav-link href=/sdmxio/contact>Contact</a></li></ul></div></nav></div></div></header><section class="bg-cover page-title-section overlay" style=background-image:url(/sdmxio/images/backgrounds/page-title.webp),url(/sdmxio/images/backgrounds/page-title.webp)><div class=container><div class=row><div class=col-md-8><ul class="list-inline custom-breadcrumb"><li class="list-inline-item h2"><a class="text-white font-secondary" href=/sdmxio/blog>Blogs</a></li><li class=list-inline-item><i class="ti-angle-right text-white"></i></li><li class="list-inline-item text-white h3 font-secondary">How to Build Istio?</li></ul><p class=text-white>This article will guide you on how to compile the Istio binaries on macOS.</p></div></div></div></section><section class=section-sm><div class="container blog"><div class=row><div class="col-lg-8 article-content"><div class=row><div class=col-12><ul class=list-inline><li class="list-inline-item mr-4 mb-3 mb-md-0 text-light"><span class="font-weight-bold mr-2">Date
:</span>May 15, 2022</li><li class="list-inline-item mr-4 mb-3 mb-md-0 text-light"><span class="font-weight-bold mr-2">Category
:</span><a href=/sdmxio/categories/istio>
Istio</a></li><li class="list-inline-item mr-4 mb-3 mb-md-0 text-light"><span class="font-weight-bold mr-2">Word Count
:</span>491 words</li><li class="list-inline-item mr-4 mb-3 mb-md-0 text-light"><span class="font-weight-bold mr-2">Reading Time
:</span>2 Minute</li></ul></div><div class="col-12 my-4"><div class=border-bottom></div></div><div class="col-12 content"><p>This article will guide you on how to compile the Istio binaries and Docker images on macOS.</p><h2 id=before-you-begin>Before you begin</h2><p>Before we start, refer to the <a href=https://github.com/istio/istio/wiki/Preparing-for-Development-Mac title="Istio Wiki" target=_blank rel=noopener>Istio Wiki</a>
, here is the information about my build environment.</p><ul><li>macOS 12.3.1 Darwin AMD64</li><li>Docker Desktop 4.8.1(78998)</li><li>Docker Engine v20.10.14</li></ul><h2 id=start-to-compile>Start to compile</h2><p>First, download the <a href=https://github.com/istio/istio title="Istio code" target=_blank rel=noopener>Istio code</a>
from GitHub to the <code>$GOPATH/src/istio.io/istio</code> directory, and execute the commands below in that root directory.</p><h3 id=compile-into-binaries>Compile into binaries</h3><p>Execute the following command to download the Istio dependent packages, which will be downloaded to the <code>vendor</code> directory.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>go mod vendor
</span></span></code></pre></div><p>Run the following command to build Istio:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>sudo make build
</span></span></code></pre></div><p>If you do not run the command with <code>sudo</code>, you may encounter the following error.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>fatal: unsafe repository <span class=o>(</span><span class=s1>&#39;/work&#39;</span> is owned by someone <span class=k>else</span><span class=o>)</span>
</span></span><span class=line><span class=cl>To add an exception <span class=k>for</span> this directory, call:
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>	git config --global --add safe.directory /work
</span></span><span class=line><span class=cl>fatal: unsafe repository <span class=o>(</span><span class=s1>&#39;/work&#39;</span> is owned by someone <span class=k>else</span><span class=o>)</span>
</span></span><span class=line><span class=cl>To add an exception <span class=k>for</span> this directory, call:
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>	git config --global --add safe.directory /work
</span></span><span class=line><span class=cl>Makefile.core.mk:170: *** <span class=s2>&#34;TAG cannot be empty&#34;</span>.  Stop.
</span></span><span class=line><span class=cl>make: *** <span class=o>[</span>build<span class=o>]</span> Error <span class=m>2</span>
</span></span></code></pre></div><p>Even if you follow the prompts and run <code>git config --global --add safe.directory /work</code>, you will still get errors during compilation.</p><p>The compiled binary will be saved in <code>out</code> directory with the following directory structure.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>out
</span></span><span class=line><span class=cl>├── darwin_amd64
</span></span><span class=line><span class=cl>│   ├── bug-report
</span></span><span class=line><span class=cl>│   ├── client
</span></span><span class=line><span class=cl>│   ├── envoy
</span></span><span class=line><span class=cl>│   ├── extauthz
</span></span><span class=line><span class=cl>│   ├── install-cni
</span></span><span class=line><span class=cl>│   ├── istio-cni
</span></span><span class=line><span class=cl>│   ├── istio-cni-taint
</span></span><span class=line><span class=cl>│   ├── istio-iptables
</span></span><span class=line><span class=cl>│   ├── istio_is_init
</span></span><span class=line><span class=cl>│   ├── istioctl
</span></span><span class=line><span class=cl>│   ├── logs
</span></span><span class=line><span class=cl>│   ├── operator
</span></span><span class=line><span class=cl>│   ├── pilot-agent
</span></span><span class=line><span class=cl>│   ├── pilot-discovery
</span></span><span class=line><span class=cl>│   ├── release
</span></span><span class=line><span class=cl>│   └── server
</span></span><span class=line><span class=cl>└── linux_amd64
</span></span><span class=line><span class=cl>    ├── envoy
</span></span><span class=line><span class=cl>    ├── envoy-centos
</span></span><span class=line><span class=cl>    ├── logs
</span></span><span class=line><span class=cl>    └── release
</span></span></code></pre></div><p>It will build both the <code>linux_amd64</code> and <code>darwin_amd64</code> architectures binaries at the same time.</p><h3 id=compile-into-docker-images>Compile into Docker images</h3><p>Run the following command to compile Istio into a Docker image.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>sudo make build
</span></span></code></pre></div><p>The compilation will take about 3 to 5 minutes depending on your network. Once the compilation is complete, you will see the Docker image of Istio by running the following command.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>$ docker images
</span></span><span class=line><span class=cl>REPOSITORY                                         TAG                          IMAGE ID       CREATED              SIZE
</span></span><span class=line><span class=cl>localhost:5000/app_sidecar_centos_7                latest                       2044037df94b   <span class=m>51</span> seconds ago       524MB
</span></span><span class=line><span class=cl>localhost:5000/app_sidecar_ubuntu_jammy            latest                       5d8ae5ed55b7   About a minute ago   362MB
</span></span><span class=line><span class=cl>localhost:5000/proxyv2                             latest                       d4679412385f   About a minute ago   243MB
</span></span><span class=line><span class=cl>localhost:5000/install-cni                         latest                       78f46d5771d2   About a minute ago   270MB
</span></span><span class=line><span class=cl>localhost:5000/istioctl                            latest                       c38130a5adc8   About a minute ago   190MB
</span></span><span class=line><span class=cl>localhost:5000/pilot                               latest                       2aa9185ec202   About a minute ago   190MB
</span></span><span class=line><span class=cl>localhost:5000/app                                 latest                       473adafaeb8d   About a minute ago   188MB
</span></span><span class=line><span class=cl>localhost:5000/operator                            latest                       9ac1fedcdd12   About a minute ago   191MB
</span></span><span class=line><span class=cl>localhost:5000/ext-authz                           latest                       1fb5aaf20791   About a minute ago   117MB
</span></span><span class=line><span class=cl>localhost:5000/app_sidecar_debian_11               latest                       61376a02b95d   <span class=m>2</span> minutes ago        407MB
</span></span><span class=line><span class=cl>localhost:5000/app_sidecar_ubuntu_xenial           latest                       7e8efe666611   <span class=m>2</span> minutes ago        418MB
</span></span></code></pre></div><p>You can change the image name and push it into your own container registry.</p><h2 id=summary>Summary</h2><p>This is how to build Istio on macOS. If you have already downloaded the Docker image you need to build, the build will take less than a minute. It also takes only a few minutes to build Docker images.</p><h2 id=reference>Reference</h2><ul><li><a href=https://github.com/istio/istio/wiki/Using-the-Code-Base title="Using the Code Base - github.com" target=_blank rel=noopener>Using the Code Base - github.com</a></li></ul></div><div class="col-12 mb-4"><div class=border-bottom><p class=edit-page><a href=https://github.com/sdmxio/website/edit/master/content/en/blog/how-to-build-istio/index.md><i class="fa fa-pencil-square-o" aria-hidden=true></i> Edit this page</a></p></div></div><div class=col-12><li class="list-inline-item mr-4 mb-3 mb-md-0 text-light"><a href=/sdmxio/tags/istio class=badge>Istio</a></li></div><div class=col-12><ul class="pager blog-pager"><li class=previous><a href=https://glennmdt.github.io/sdmxio/blog/how-to-debug-microservices-in-kubernetes-with-proxy-sidecar-or-service-mesh/ data-toggle=tooltip data-placement=top title="How to debug microservices in Kubernetes with proxy, sidecar or service mesh?">&larr; Previous Post</a></li></ul></div><div class=col-12></div></div></div><aside class="col-lg-4 sidebar"><div class="bg-white mb-4"><p class=sidebar-title>Categories</p><ul class=list-unstyled><li class=border-bottom><a href=/sdmxio/categories/cloud-native class="d-block pb-3 mt-3 text-capitalize">Cloud native</a></li><li class=border-bottom><a href=/sdmxio/categories/istio class="d-block pb-3 mt-3 text-capitalize">Istio</a></li><li class=border-bottom><a href=/sdmxio/categories/tools class="d-block pb-3 mt-3 text-capitalize">Tools</a></li></ul></div><div class="bg-white mb-4"><p class=sidebar-title>Tags</p><div id=tag-cloud><a href=/tags/cncf style=font-size:.8rem>Cncf</a>
<a href=/tags/ecosystem style=font-size:.8rem>Ecosystem</a>
<a href=/tags/fmr style=font-size:.8rem>Fmr</a>
<a href=/tags/istio style=font-size:1.557115704285749rem>Istio</a>
<a href=/tags/nocalhost style=font-size:.8rem>Nocalhost</a>
<a href=/tags/service-mesh style=font-size:.8rem>Service mesh</a>
<a href=/tags/telepresence style=font-size:.8rem>Telepresence</a></div></div><div class="bg-white md-4"><p class=sidebar-title>Related article</p><div class="media border-bottom border-color pb-3 mb-3"><a href=/sdmxio/blog/how-to-debug-microservices-in-kubernetes-with-proxy-sidecar-or-service-mesh/><img class="mr-3 post-thumb-sm" src=/images/banner/debug.jpg alt="blog banner"></a><div class=media-body><a href=/sdmxio/blog/how-to-debug-microservices-in-kubernetes-with-proxy-sidecar-or-service-mesh/><p class=mt-0>How to debug microservices in Kubernetes with proxy, sidecar or service mesh?</p></a>July 5, 2021</div></div></div><div class="bg-white py-4 box-shadow mb-4 sticky-top aside-toc d-none d-sm-block"><p class=sidebar-title>Table of content</p><nav id=TableOfContents><ul><li><a href=#before-you-begin>Before you begin</a></li><li><a href=#start-to-compile>Start to compile</a><ul><li><a href=#compile-into-binaries>Compile into binaries</a></li><li><a href=#compile-into-docker-images>Compile into Docker images</a></li></ul></li><li><a href=#summary>Summary</a></li><li><a href=#reference>Reference</a></li></ul></nav></div></aside></div></div></section><footer><div class="footer bg-footer section-sm border-bottom"><div class=container><div class=row><div class="col-lg-4 col-sm-8 mb-5 mb-lg-0"><h4 class="text-white mb-5 text-uppercase">Follow sdmx.io</h4><ul class=list-unstyled><li class="mb-4 text-color">Twitter</li></div><div class="col-lg-2 col-md-3 col-sm-4 col-6 mb-5 mb-md-0"><h4 class="text-white mb-5 text-uppercase">Articles</h4><ul class=list-unstyled><li class=mb-3><a class=text-color href=/sdmxio/blog/how-to-build-istio/>How to build Istio?</a></li><li class=mb-3><a class=text-color href=/sdmxio/blog/how-to-debug-microservices-in-kubernetes-with-proxy-sidecar-or-service-mesh/>How to debug microservices in Kubernetes with proxy, sidecar or service mesh?</a></li><li class=mb-3><a class=text-color href=/sdmxio/blog/istio-1-8-a-smart-dns-proxy-takes-support-for-virtual-machines-a-step-further/>Istio 1.8: A Smart DNS Proxy Takes Support for Virtual Machines a Step Further</a></li></ul></div><div class="col-lg-2 col-md-3 col-sm-4 col-6 mb-5 mb-md-0"><h4 class="text-white mb-5 text-uppercase">links</h4><ul class=list-unstyled><li class=mb-3><a class=text-color href=https://www.bis.org/innovation/bis_open_tech_sdmx.htm target=_blank rel=noopener>FMR @ BIS Open Tech</a></li><li class=mb-3><a class=text-color href=https://sdmx.org target=_blank rel=noopener>SDMX</a></li><li class=mb-3><a class=text-color href=https://registry.sdmx.org target=_blank rel=noopener>SDMX Global Registry</a></li></ul></div><div class="col-lg-2 col-md-3 col-sm-4 col-6 mb-5 mb-md-0"><h4 class="text-white mb-5 text-uppercase">new notices</h4><ul class=list-unstyled><li class=mb-3><a class=text-color href=/sdmxio/notice/fmr-11.1.7-release/>FMR 11.1.7 release</a></li></ul></div></div></div></div><div class="copyright py-4 bg-footer"><div class=container><div class=row><div class="col-sm-9 text-sm-left text-center"><p class="mb-0 text-color">© 2022 BIS All Rights Reserved</p></div><div class="col-sm-3 text-sm-right text-center"><ul class=list-inline><li class=list-inline-item><a class="d-inline-block p-2" href=https://twitter.com/sdmxio target=_blank rel=noopener><i class="fa fa-twitter"></i></a></li><li class=list-inline-item><a class="d-inline-block p-2" href=https://github.com/sdmxio target=_blank rel=noopener><i class="fa fa-github"></i></a></li><li class=list-inline-item><a class="d-inline-block p-2" href=https://linkedin.com/in/sdmxio target=_blank rel=noopener><i class="fa fa-linkedin"></i></a></li><li class=list-inline-item><a class="d-inline-block p-2" href=mailto:info@sdmxio.io target=_blank rel=noopener><i class="fa fa-envelope"></i></a></li></ul></div></div></div></div></footer><script src=/sdmxio/plugins/jQuery/jquery.min.js></script>
<script src=/sdmxio/plugins/bootstrap/bootstrap.min.js></script>
<script src=/sdmxio/plugins/slick/slick.min.js></script>
<script src=/sdmxio/plugins/venobox/venobox.min.js></script>
<script src=/sdmxio/plugins/filterizr/jquery.filterizr.min.js></script>
<script src=/sdmxio/plugins/search/fuse.min.js></script>
<script src=/sdmxio/plugins/search/mark.js></script>
<script src=/sdmxio/plugins/search/search.js></script>
<script src=/sdmxio/plugins/hex_md5/hex_md5.js></script>
<script src=/sdmxio/plugins/anchor/anchor.min.js></script>
<script src=/sdmxio/plugins/tocbot/tocbot.min.js></script>
<script src=/sdmxio/plugins/bigger-picture/bigger-picture.min.js></script>
<script src=/sdmxio/plugins/fontawesome-pro-5.0.13/svg-with-js/js/fontawesome-all.min.js></script>
<script src=/sdmxio/js/script.min.js></script><meta name=baidu-site-verification content="g8IYR9SNLF"><script src=https://cdnjs.cloudflare.com/ajax/libs/docsearch.js/2.6.3/docsearch.min.js></script>
<script>docsearch({apiKey:"d7f7189aef2be4e5be6a6b9f44897f61",indexName:"DocSearch",appId:"CRNDR5CNMU",inputSelector:"#js-algolia-btn",debug:!1})</script><script>tocbot.init({tocSelector:"#TableOfContents",contentSelector:".content",headingSelector:"h1, h2, h3, h4",hasInnerContainers:!1,collapseDepth:3})</script></body></html>